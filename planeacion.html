<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Planificación Escolar</title>
  <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700&display=swap" rel="stylesheet">
  <link href="./css/planeacion.css" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>

</head>

<body>

  <!-- <header>
    <h1>Planificación Escolar Asistida</h1>
    <p>Guía paso a paso para generar una planeación efectiva, adaptada a tu contexto pedagógico.</p>
  </header> -->

  <!-- Navbar -->
  <div id="navbar-placeholder" class="hidden"></div>

  <div class="steps">
    <div class="step active"><span>📘</span>Datos Generales</div>
    <div class="step"><span>🎯</span>Preferencias Pedagógicas</div>
    <div class="step"><span>🧩</span>Configuración y Evaluación</div>
    <!-- <div class="step"><span>4</span>Bonus y Generar</div> -->
  </div>

  <form id="wizardForm">
    <!-- Paso 1 -->
    <div class="tab active" id="tab1">
      <h2>📘 Datos Generales de la Clase</h2>
      <p class="description">Información básica sobre tu clase</p>
      <div class="form-group">
        <label>Clase o Asignatura<br><input type="text" id="asignatura" name="asignatura" /></label>
        <label>Tema o Unidad<br><input type="text" id="tema" name="tema" /></label>
        <label>Nivel Educativo<br>
          <select id="nivel" name="nivel">
            <option value="">Seleccionar</option>
            <option>Preescolar</option>
            <option>Primaria Grado 1°</option>
            <option>Primaria Grado 2°</option>
            <option>Primaria Grado 3°</option>
            <option>Primaria Grado 4°</option>
            <option>Primaria Grado 5°</option>
            <option>Primaria Grado 6°</option>
            <option>Secundaria Grado 1°</option>
            <option>Secundaria Grado 2°</option>
            <option>Secundaria Grado 3°</option>
            <option>Preparatoria semestre 1°</option>
            <option>Preparatoria semestre 2°</option>
            <option>Preparatoria semestre 3°</option>
            <option>Preparatoria semestre 4°</option>
            <option>Preparatoria semestre 5°</option>
            <option>Preparatoria semestre 6°</option>
            <option>Universidad</option>
          </select>
        </label>
        <label>Duración (minutos)<br><input type="text" id="duracion" name="duracion" /></label>
        <label>Número de Clases<br><input type="text" id="num_clases" name="num_clases" /></label>
      </div>
      <label>🎯 Objetivos de Aprendizaje<br><textarea rows="3" id="objetivos" name="objetivos"></textarea></label>
      <p style="margin-top: 1rem;">Modalidad de la Clase</p>
      <div class="radio-group">
        <label><input type="radio" name="modalidad" value="Presencial" /> Presencial</label>
        <label><input type="radio" name="modalidad" value="Virtual" /> Virtual</label>
        <label><input type="radio" name="modalidad" value="Híbrida" /> Híbrida</label>
      </div>

      <!-- Botones de navegación -->
      <div class="nav-buttons">
        <button type="button" onclick="nextTab(1)">Siguiente</button>
      </div>
    </div>

    <!-- Paso 2 -->
    <div class="tab" id="tab2">
      <h2>🎯 Preferencias Pedagógicas y Metodológicas</h2>

      <p class="description">Enfoque educativo predominante</p>
      <div class="radio-group">
        <label><input type="radio" name="metodologias" value="Constructivista" /> Constructivista</label>
        <label><input type="radio" name="metodologias" value="Basado en proyectos" /> Basado en proyectos</label>
        <label><input type="radio" name="metodologias" value="Socioemocional" /> Socioemocional</label>
        <label><input type="radio" name="metodologias" value="Por competencias" /> Por competencias</label>
        <label><input type="radio" name="metodologias" value="Humanista" /> Humanista</label>
      </div>

      <p class="description">Metodología de enseñanza deseada</p>
      <div class="checkbox-group">
        <label><input type="checkbox" name="habilidades" value="Expositiva" /> Expositiva</label>
        <label><input type="checkbox" name="habilidades" value="Indagatoria" /> Indagatoria</label>
        <label><input type="checkbox" name="habilidades" value="Colaborativa" /> Colaborativa</label>
        <label><input type="checkbox" name="habilidades" value="Aprendizaje basado en juegos" /> Aprendizaje basado en
          juegos</label>
        <label><input type="checkbox" name="habilidades" value="Uso de TIC" /> Uso de TIC</label>
      </div>

      <p class="description">Tipo de actividades de aprendizaje preferidas</p>
      <div class="checkbox-group">
        <label><input type="checkbox" name="estilo" value="Actividades Escritas" /> Actividades Escritas</label>
        <label><input type="checkbox" name="estilo" value="Producto Digital" /> Producto Digital</label>
        <label><input type="checkbox" name="estilo" value="Dinámicas Orales" /> Dinámicas Orales</label>
        <label><input type="checkbox" name="estilo" value="Experimentos" /> Experimentos</label>
        <label><input type="checkbox" name="estilo" value="Resolución de Problemas" /> Resolución de Problemas</label>
        <label><input type="checkbox" name="estilo" value="Análisis de Texto" /> Análisis de Texto</label>
        <label><input type="checkbox" name="estilo" value="Mapas conceptuales" /> Mapas conceptuales</label>
      </div>

      <p class="description">Tipo de trabajo preferido</p>
      <div class="radio-group">
        <label><input type="radio" name="trabajo" value="Individual" /> Individual</label>
        <label><input type="radio" name="trabajo" value="En Equipo" /> En Equipo</label>
        <label><input type="radio" name="trabajo" value="Mixto" /> Mixto</label>
      </div>

      <p class="description">¿Deseas que los ejercicios estén contextualizados con la vida cotidiana?</p>
      <div class="radio-group">
        <label><input type="radio" name="contextualizado" value="Sí" /> Sí</label>
        <label><input type="radio" name="contextualizado" value="No" /> No</label>
      </div>

      <!-- Botones de navegación -->
      <div class="nav-buttons">
        <button type="button" onclick="nextTab(-1)">Anterior</button>
        <button type="button" onclick="nextTab(1)">Siguiente</button>
      </div>
    </div>

    <!-- Paso 3 -->
    <div class="tab" id="tab3">
      <h2>🧩 Configuración de Actividades y Evaluación</h2>

      <label>¿Cuántas actividades prácticas deseas durante la clase?<br><input type="text" id="actividades_practicas"
          name="actividades_practicas" /></label>

      <p class="description mt-1">¿Deseas que la IA genere lecturas, textos o problemas realistas propios?</p>
      <div class="radio-group">
        <label><input type="radio" name="generar_problemas" value="Sí" /> Sí</label>
        <label><input type="radio" name="generar_problemas" value="No" /> No</label>
      </div>

      <p class="description">¿Qué recursos puede usar el alumno?</p>
      <div class="checkbox-group">
        <label><input type="checkbox" name="recursos" value="Libreta" /> Libreta</label>
        <label><input type="checkbox" name="recursos" value="Libros" /> Libros</label>
        <label><input type="checkbox" name="recursos" value="Internet" /> Internet</label>
        <label><input type="checkbox" name="recursos" value="Herramientas digitales" /> Herramientas digitales</label>
        <label><input type="checkbox" name="recursos" value="Material reciclado" /> Material reciclado</label>
      </div>

      <p class="description">¿Deseas incluir actividades interactivas o lúdicas?</p>
      <div class="radio-group">
        <label><input type="radio" name="actividades_interactivas" value="Sí" /> Sí</label>
        <label><input type="radio" name="actividades_interactivas" value="No" /> No</label>
      </div>

      <p class="description">¿Deseas incluir una autoevaluación o coevaluación?</p>
      <div class="radio-group">
        <label><input type="radio" name="auto_evaluacion" value="Sí" /> Sí</label>
        <label><input type="radio" name="auto_evaluacion" value="No" /> No</label>
      </div>

      <p class="description">Forma preferida de evaluación</p>
      <div class="radio-group">
        <label><input type="radio" name="evaluacion" value="Rúbrica" required /> Rúbrica</label>
        <label><input type="radio" name="evaluacion" value="Lista de cotejo" /> Lista de cotejo</label>
        <label><input type="radio" name="evaluacion" value="Preguntas abiertas" /> Preguntas abiertas</label>
        <label><input type="radio" name="evaluacion" value="Evaluación oral" /> Evaluación oral</label>
      </div>

      <label>¿Qué resultado esperas que el alumno logre al final?<br><textarea rows="3" id="estructura"
          name="estructura"></textarea></label>

      <!-- Botones de navegación -->
      <div class="nav-buttons">
        <button type="button" onclick="nextTab(-1)">Anterior</button>
        <button type="submit" id="btn-finalizar">Finalizar</button>
      </div>
    </div>

  </form>


  <!-- Resumen de la planeación -->
  <pre id="resumen"></pre>

  <div id="acciones-finales" style="display: none; margin-top: 2rem; text-align: center;">
    <button onclick="window.location.href='dashboard.html'" style="margin: 0.5rem; padding: 0.5rem 1rem;">🏠 Volver al
      dashboard</button>
    <button id="btn-ver-detalle" style="margin: 0.5rem; padding: 0.5rem 1rem;">📄 Ver planeación</button>
  </div>



  <script src="js/config.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js"></script>
  <script src="js/supabaseClient.js"></script>
  <script src="js/auth.js"></script>
  <script>
    protegerRuta(); // Bloquea acceso si no hay login
  </script>
  <script src="./js/planeacion.js"></script>
</body>

</html>